name = "duckov-mod-openannouncements"
main = "workers/src/index.ts"
compatibility_date = "2025-12-14"

# [assets]
assets = { directory = "./dist" }

# KV 命名空间绑定
kv_namespaces = [
  { binding = "ANNOUNCEMENTS_KV", id = "046dd49c326e4aada1122713ed9e08fe" }
]

# [vars]
# 敏感变量请在 Cloudflare Dashboard 中设置：
# Settings -> Variables and Secrets -> Add variable
# - INIT_TOKEN: 初始化令牌（用于 /api/system/init）
#
# 本地开发：创建 .dev.vars 文件（已在 .gitignore 中）
# INIT_TOKEN=your_local_token

# [router]
routes = [
  { pattern = "duckov.guducat.cc/*", zone_name = "guducat.cc" },
]

[observability]
enabled = false
head_sampling_rate = 1

[observability.logs]
enabled = true
head_sampling_rate = 1
persist = true
invocation_logs = true

[observability.traces]
enabled = true
persist = true
head_sampling_rate = 1
